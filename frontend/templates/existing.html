<!DOCTYPE html>
<!-- Template by Quackit.com -->
<!-- Images by various sources under the Creative Commons CC0 license and/or the Creative Commons Zero license. 
Although you can use them, for a more unique website, replace these images with your own. -->
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="shortcut icon" href="#" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>Business 2</title>

    <!-- Bootstrap Core CSS -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet"> 

    <!-- Custom CSS: You can use this stylesheet to override any Bootstrap styles and/or apply your own styles -->
    <link href="static/css/custom.css" rel="stylesheet"> 

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom Fonts from Google -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    
</head>

<body>

   <!-- Navigation -->
   <nav id="siteNav" class="navbar navbar-default navbar-fixed-top bg-white" role="navigation">
        <div class="container">
            <!-- Logo and responsive toggle -->
            <div class="navbar-header">

                <a class="navbar-brand" href="#">
                	<span class="glyphicon glyphicon-fire"></span> 
                	LOGO
                </a>
            </div>
            <!-- Navbar links -->
            <div class="collapse navbar-collapse" id="navbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="active">
                        <a href="index">Home</a>
                    </li>
                    <li  class="active">
                        <a href="new">New User</a>
                    </li>
                    <li  class="active">
                        <a href="existing">Existing User</a>
                    </li>
                    <li  class="active">
                        <a href="about">About Us</a>
                    </li>
                </ul>
                
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container -->
    </nav>
    <!-- END NAVIGATION-->



	<!-- Content 1 -->
    <section class="content">
        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    <img class="img-responsive img-circle center-block" src="static/images/iphone.jpg" alt="">
                </div>

                <div class="col-sm-6">
                    <h2 class="section-header">Existing User</h2>
                    <p class="lead text-muted">Enter your name and upload a selfie to verify your identity!</p>
     
                    
                    <div>
                     <form id="uploadform2" method="post" enctype="multipart/form-data">

                     <input type="text" id="test_name" class="form-control" placeholder="Enter User Name">
                     <br>
                     <input type="file" name="file"  class="custom-file-input " id="test_data">
                     <label for="test_data">Select Headshot Verification Picture</label>
                    </form>

                    <br>
                    <br>
                    <button type="button" id="initialize_test_button" class="btn btn-lg btn-primary " style="background-color:blue">Verify Picture</button>

                    </div>
                </div>                
            </div>
        </div>
    </section>


    <!-- jQuery -->
    <script src="static/js/jquery-1.11.3.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="static/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="static/js/jquery.easing.min.js"></script>
    
    <!-- Custom Javascript -->
    <script src="static/js/custom.js"></script>
    <script src="static/js/freeman.js"></script>
    <!----

    Answering own question, as there is a better way using HTML5 is available.

    Option 1, Accessing default camera from the system
    
    HTML
    
    Video Tag
    <br/>
    <div class="camera">
        <video id="video">Video stream not available.</video>
        <button id="startbutton">Take photo</button>
    </div>
    <br/>
    Canvas
    <br/>
    <canvas id="canvas"></canvas>


    <script> var width = 320;
            var height = 0;
            var streaming = false;
            
            navigator.mediaDevices.getUserMedia({video: true, audio: false})
                    .then(function (stream) {
                        video.srcObject = stream;
                        video.play();
                    })
                    .catch(function (err) {
                        console.log("An error occured! " + err);
                    });
            
            video.addEventListener('canplay', function (ev) {
                if (!streaming) {
                    height = video.videoHeight / (video.videoWidth / width);
                    video.setAttribute('width', width);
                    video.setAttribute('height', height);
                    canvas.setAttribute('width', width);
                    canvas.setAttribute('height', height);
            
                    streaming = true;
                }
            }, false);
            
            startbutton.addEventListener('click', function (ev) {
                takepicture();
                ev.preventDefault();
            }, false);
            
            clearphoto();
            
            function clearphoto() {
                var context = canvas.getContext('2d');
                context.fillStyle = "#AAA";
                context.fillRect(0, 0, canvas.width, canvas.height);
            }
            
            function takepicture() {
                var context = canvas.getContext('2d');
                if (width && height) {
                    canvas.width = width;
                    canvas.height = height;
                    context.drawImage(video, 0, 0, width, height);
            
                    var dataURL = canvas.toDataURL("image/jpeg", 0.95);
                    if (dataURL && dataURL != "data:,") {
                        var fileName = generateImageName();
                        uploadimage(dataURL, fileName);
                    } else {
                        alert("Image not available");
                    }
                } else {
                    clearphoto();
                }
            }
            
            function generateImageName() {
                imageName = "hey"
                return imageName;
            }
            
            function uploadimage(dataurl, filename) {
                ... upload logic here ...
            }
            </script>-->

</body>

</html>
